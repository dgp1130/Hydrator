<!DOCTYPE html>
<html>
    <head>
        <title>Functional</title>
        <meta charset="utf8">

        <script type="importmap">
            {
                "imports": {
                    "hydroactive": "/index.js",
                    "hydroactive/": "/"
                }
            }
        </script>
    </head>
    <body>
        <h1>Functional Examples</h1>

        <a href="/">Home</a>

        <functional-live>
            <template shadowroot="open">
                <h2>Live updates</h2>
                <div>The count is: <span>5</span>.</div>
                <script src="/examples/functional-live.js" type="module"></script>
            </template>
        </functional-live>

        <functional-bind>
            <template shadowroot="open">
                <h2>Bound value</h2>
                <div>The count is: <span>10</span>.</div>
                <script src="/examples/functional-bind.js" type="module"></script>
            </template>
        </functional-bind>

        <functional-listen>
            <template shadowroot="open">
                <h2>Listen counter</h2>
                <div>The count is: <span>15</span>.</div>
                <button id="decrement">-</button>
                <button id="increment">+</button>
                <script src="/examples/functional-listen.js" type="module"></script>
            </template>
        </functional-listen>

        <functional-update>
            <template shadowroot="open">
                <h2>Update counter</h2>
                <div>The initial count was: <span id="initial">20</span>.</div>
                <div>The current count is: <span id="current">even</span>.</div>
                <button id="decrement">-</button>
                <button id="increment">+</button>
                <script src="/examples/functional-update.js" type="module"></script>
            </template>
        </functional-update>

        <functional-computed>
            <template shadowroot="open">
                <h2>Computed counter</h2>
                <div>The current count is: <span id="count">25</span>.</div>
                <div>The current count has parity: <span id="parity">odd</span>.</div>
                <button id="decrement">-</button>
                <button id="increment">+</button>
                <script src="/examples/functional-computed.js" type="module"></script>
            </template>
        </functional-computed>

        <functional-hydration>
            <template shadowroot="open">
                <h2>Using one-time hydration</h2>
                <div>The count is: <span>30</span>.</div>
                <button id="decrement" disabled>-</button>
                <button id="increment" disabled>+</button>
                <script src="/examples/functional-hydration.js" type="module"></script>
            </template>
        </functional-hydration>

        <functional-attr counter-id="1234">
            <template shadowroot="open">
                <h2>Hydrating from host attributes</h2>
                <div>The count is: <span>Loading...</span>.</div>
                <button id="decrement" disabled>-</button>
                <button id="increment" disabled>+</button>
                <script src="/examples/functional-attr.js" type="module"></script>
            </template>
        </functional-attr>

        <functional-outer-counter>
            <template shadowroot="open">
                <h2>Nested counter</h2>
                <functional-inner-counter>
                    <template shadowroot="open">
                        <div>The count is: <span>40</span>.</div>
                    </template>
                </functional-inner-counter>
                <button id="decrement">-</button>
                <button id="increment">+</button>
                <script src="/examples/functional-nested-counter.js" type="module"></script>
            </template>
        </functional-outer-counter>

        <functional-state-host>
            <template shadowroot="open">
                <h2>State host counter</h2>
                <functional-counter-display>
                    <template shadowroot="open">
                        <div>The count is: <span>45</span>.</div>
                    </template>
                </functional-counter-display>
                <button id="decrement">-</button>
                <button id="increment">+</button>
                <script src="/examples/functional-state-host.js" type="module"></script>
            </template>
        </functional-state-host>

        <!-- No actual JS implementation, DSD just works! -->
        <higher-order>
            <template shadowroot="open">
                <h2>Higher-order component</h2>
                <slot></slot>
            </template>
            
            <lower-order>
                <template shadowroot="open">
                    <div>Hello from the lower-order component!</div>
                </template>
            </lower-order>
        </higher-order>

        <functional-event-handler>
            <template shadowroot="open">
                <h2>Event handler</h2>
                <div>The count is: <span>50</span>.</div>
                <slot></slot>
            </template>

            <functional-event-dispatcher>
                <template shadowroot="open">
                    <button id="decrement">-</button>
                    <button id="increment">+</button>
                </template>
            </functional-event-dispatcher>

            <script src="/examples/functional-event-counter.js" type="module"></script>
        </functional-event-handler>

        <functional-context-provider count="55">
            <template shadowroot="open">
                <h2>Context counter</h2>
                <slot></slot>
                <button id="decrement">-</button>
                <button id="increment">+</button>
            </template>

            <div>
                <functional-context-receiver>
                    <template shadowroot="open">
                        <div>The count is: <span>-</span></div>
                    </template>
                </functional-context-receiver>
            </div>

            <script src="/examples/functional-context-counter.js" type="module"></script>
        </functional-context-provider>

        <functional-deferred-counter defer-hydration>
            <template shadowroot="open">
                <h2>Deferred counter</h2>
                <div>The count is: <span>60</span>.</div>
                <button id="decrement" disabled>-</button>
                <button id="increment" disabled>+</button>
                <script src="/examples/functional-deferred-counter.js" type="module"></script>
            </template>
        </functional-deferred-counter>
        <button onclick="javascript:this.previousElementSibling.removeAttribute('defer-hydration'); this.disabled = true;">Load</button>

        <functional-deferred-outer-counter defer-hydration>
            <template shadowroot="open">
                <h2>Deferred and nested counter</h2>
                <functional-deferred-inner-counter defer-hydration>
                    <template shadowroot="open">
                        <div>The count is: <span>65</span>.</div>
                    </template>
                </functional-deferred-inner-counter>
                <button id="decrement" disabled>-</button>
                <button id="increment" disabled>+</button>
                <script src="/examples/functional-nested-deferred-counter.js" type="module"></script>
            </template>
        </functional-deferred-outer-counter>
        <button onclick="javascript:this.previousElementSibling.removeAttribute('defer-hydration'); this.disabled = true;">Load</button>

        <is-land on:interaction import="/examples/functional-island-counter.js">
            <functional-island-counter defer-hydration>
                <template shadowroot="open">
                    <h2>Island counter</h2>
                    <div>The count is: <span>70</span>.</div>
                    <button id="decrement" disabled>-</button>
                    <button id="increment" disabled>+</button>
                </template>
            </functional-island-counter>
        </is-land>
        <script src="/node_modules/@11ty/is-land/is-land.js" type="module"></script>

        <is-land on:interaction import="/examples/functional-island-counter.js">
            <functional-island-counter defer-hydration>
                <template shadowroot="open">
                    <h2>Island counter 2</h2>
                    <div>The count is: <span>75</span>.</div>
                    <button id="decrement" disabled>-</button>
                    <button id="increment" disabled>+</button>
                </template>
            </functional-island-counter>
        </is-land>
        <script src="/node_modules/@11ty/is-land/is-land.js" type="module"></script>
    </body>
</html>
