<!DOCTYPE html>
<html>
    <head>
        <title>Hydration Demo</title>
        <meta charset="utf8">

        <script type="importmap">
            {
                "imports": {
                    "hydroactive": "/hydroactive/index.js",
                    "hydroactive/": "/hydroactive/"
                }
            }
        </script>
    </head>
    <body>
        <h1>Hydration Demo</h1>

        <nav><a href="/">Home</a></nav>

        <deferred-comp defer-hydration>
            <h2>Deferred Component</h2>

            <div>Hello, <span>World</span>!</div>

            <script src="./deferred-comp.js" type="module"></script>
        </deferred-comp>
        <button onclick="javascript:this.previousElementSibling.removeAttribute('defer-hydration'); this.disabled = true;">
            Hydrate
        </button>

        <deferred-composition defer-hydration>
            <h2>Deferred Composition</h2>

            <deferred-composition-child id="first">
                <div>
                    <span id="subject">Devel</span> says "Hello!" to
                    <span id="target">World</span>!
                </div>
            </deferred-composition-child>

            <deferred-composition-child defer-hydration id="second">
                <div>
                    <span id="subject">Owen</span> says "Hello!" to
                    <span id="target">World</span>!
                </div>
            </deferred-composition-child>

            <div>The two speakers are named <span id="first-speaker">-</span>
            and <span id="second-speaker">-</span>.</div>

            <script src="./deferred-composition.js" type="module"></script>
        </deferred-composition>
        <button onclick="javascript:this.previousElementSibling.removeAttribute('defer-hydration'); this.disabled = true;">
            Hydrate
        </button>

        <div>
            <h2>Deferred <code>&lt;is-land&gt;</code></h2>

            <is-land on:interaction>
                <div>Click to hydrate!</div>

                <deferred-comp defer-hydration>
                    <div>Hello, <span>World</span>!</div>

                    <script src="./deferred-comp.js" type="module"></script>
                </deferred-comp>

                <script src="/node_modules/@11ty/is-land/is-land.js" type="module"></script>
            </is-land>

            <is-land on:media="(max-width: 720px)">
                <div>Narrow viewport to hydrate!</div>

                <deferred-comp defer-hydration>
                    <div>Hello, <span>World</span>!</div>

                    <script src="./deferred-comp.js" type="module"></script>
                </deferred-comp>

                <script src="/node_modules/@11ty/is-land/is-land.js" type="module"></script>
            </is-land>
        </div>
    </body>
</html>
